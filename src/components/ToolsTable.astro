---
import data from "../data/oil-types.yaml"; // assumes YAML plugin is configured
const headers = data.properties.headers;
const rows = data.properties.rows;

// Capitalize helper
const capitalize = (str) =>
  str
    .replace(/_/g, " ")
    .toLowerCase()
    .replace(/\b\w/g, (c) => c.toUpperCase());
---

<h3 style="color: #2c3e50;">{data.title}</h3>
<p>{data.shortdesc}</p>

<table style="border-collapse: collapse; width: 100%;">
  <thead style="background-color: #3498db; color: white;">
    <tr>
      <th style="padding: 8px; border: 1px solid #ddd;">{headers.name}</th>
      <th style="padding: 8px; border: 1px solid #ddd;">Details</th>
    </tr>
  </thead>
  <tbody>
    {rows.map((row, index) => {
      const { name, ...details } = row;
      return (
        <tr style={`background-color: ${index % 2 === 0 ? "#ecf0f1" : "#ffffff"};`}>
          <td style="padding: 8px; border: 1px solid #ddd; font-weight: bold;">
            {name}
          </td>
          <td style="padding: 8px; border: 1px solid #ddd;">
            <ul style="margin: 0; padding-left: 20px;">
              {Object.entries(details).map(([key, val]) => (
                <li><strong>{capitalize(key)}:</strong> {val}</li>
              ))}
            </ul>
          </td>
        </tr>
      );
    })}
  </tbody>
</table>
